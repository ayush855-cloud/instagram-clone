(this["webpackJsonpinst-clone"]=this["webpackJsonpinst-clone"]||[]).push([[0],{36:function(e,a,s){},49:function(e,a,s){"use strict";s.r(a);var t=s(4),c=s.n(t),n=s(19),i=s.n(n),r=s(9),l=(s(36),s(14)),o=s(27),m=s(15),d=s.n(m),j=s(22),u=s(13);u.a.initializeApp({apiKey:"AIzaSyAr-5uvj2KUcN6wb-aBEDOY58aAvZS8wUc",authDomain:"instagram-a2d73.firebaseapp.com",projectId:"instagram-a2d73",storageBucket:"instagram-a2d73.appspot.com",messagingSenderId:"479681757412",appId:"1:479681757412:web:27b7f51b984e80a1726cf1",measurementId:"G-D5GD5MV1E6"});var b=u.a.firestore(),g=u.a.auth(),p=u.a.storage(),O=s(3),h=Object(t.createContext)(),x=function(e){var a=c.a.useState(!1),s=Object(r.a)(a,2),t=s[0],n=s[1],i=c.a.useState(null),l=Object(r.a)(i,2),o=l[0],m=l[1],x=c.a.useState(!0),v=Object(r.a)(x,2),_=v[0],f=v[1],N=c.a.useState([]),y=Object(r.a)(N,2),S=y[0],w=y[1],C=function(){var e=Object(j.a)(d.a.mark((function e(a){var s,t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.username,t=a.email,c=a.password,e.prev=1,e.next=4,g.createUserWithEmailAndPassword(t,c);case 4:e.sent.user.updateProfile({displayName:s}),n(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(d.a.mark((function e(a){var s,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.email,t=a.password,e.next=3,g.signInWithEmailAndPassword(s,t);case 3:e.sent,n(!1);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return c.a.useEffect((function(){g.onAuthStateChanged((function(e){m(e),f(!1)})),b.collection("posts").orderBy("currentTime","desc").onSnapshot((function(e){w(e.docs.map((function(e){return{id:e.id,title:e.data().title,image:e.data().image,username:e.data().username}})))}))}),[o,_]),console.log("Login user",o),Object(O.jsx)(h.Provider,{value:{model:t,openModel:function(){n(!0)},closeModel:function(){n(!1)},register:C,login:k,user:o,loader:_,logout:function(){g.signOut().then((function(){m(null)})).catch((function(e){console.log(e)}))},create:function(e){var a=e.title,s=e.image;p.ref("images/".concat(s.name)).put(s).on("state_changed",(function(e){var a=e.bytesTransferred/e.totalBytes*100;console.log(a)}),(function(e){console.log(e)}),(function(){p.ref("images").child(s.name).getDownloadURL().then((function(e){b.collection("posts").add({title:a,image:e,username:o.displayName,currentTime:u.a.firestore.FieldValue.serverTimestamp()})}))}))},posts:S,publishComment:function(e){var a=e.id,s=e.comment;b.collection("posts").doc(a).collection("comments").add({comment:s,username:o.displayName,currentTime:u.a.firestore.FieldValue.serverTimestamp()})}},children:e.children})},v=function(){var e=c.a.useContext(h),a=e.model,s=e.openModel,t=e.user,n=e.loader,i=e.logout;console.log("my model",a);var r=function(){s()},m=function(){i()};return Object(O.jsxs)("div",{className:"navbar",children:[Object(O.jsx)("div",{className:"navbar__first",children:Object(O.jsx)("div",{className:"navbar__first-logo",children:Object(O.jsx)("img",{src:"/images/instagramLogo.png",alt:""})})}),Object(O.jsx)("div",{className:"navbar__middle",children:Object(O.jsxs)("div",{className:"navbar__middle-search",children:[Object(O.jsx)("input",{type:"text",className:"navbar__search",placeholder:"Search"}),Object(O.jsx)(l.d,{className:"searchIcon"})]})}),Object(O.jsxs)("div",{className:"navbar__last",children:[Object(O.jsx)("li",{children:Object(O.jsx)(o.a,{className:"navbar__icons"})}),Object(O.jsx)("li",{children:Object(O.jsx)(l.e,{className:"navbar__icons"})}),Object(O.jsx)("li",{children:Object(O.jsx)(l.b,{className:"navbar__icons"})}),Object(O.jsx)("li",{children:Object(O.jsx)(l.c,{className:"navbar__icons"})}),n?"...":!n&&t?Object(O.jsxs)("li",{className:"together",children:[t.displayName,"/ ",Object(O.jsx)("span",{onClick:m,children:"logout"})]}):Object(O.jsx)("li",{onClick:r,children:"Register/Login"})]})]})},_=s(20),f=s(16),N=function(){var e=c.a.useContext(h),a=e.model,s=e.closeModel,t=e.register,n=e.login,i=c.a.useState({register:!0,login:!1}),l=Object(r.a)(i,2),o=l[0],m=l[1],d=c.a.useState({username:"",email:"",password:""}),j=Object(r.a)(d,2),u=j[0],b=j[1],g=function(e){b(Object(f.a)(Object(f.a)({},u),{},Object(_.a)({},e.target.name,e.target.value)))},p=function(){m(Object(f.a)(Object(f.a)({},o),{},{register:!o.register,login:!o.login}))};return Object(O.jsx)(O.Fragment,{children:a?Object(O.jsx)("div",{className:"model",onClick:function(e){"model"===e.target.getAttribute("class")&&s()},children:Object(O.jsx)("div",{className:"model__container",children:o.register?Object(O.jsx)("div",{className:"model__form",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(u),t(u),b({username:"",email:"",password:""})},children:[Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("img",{src:"/images/instagramLogo.png",alt:""})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("input",{type:"text",name:"username",className:"model__input",placeholder:"Username...",onChange:g,value:u.username,required:!0})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("input",{type:"email",name:"email",className:"model__input",placeholder:"Email...",onChange:g,value:u.email,required:!0})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("input",{type:"password",name:"password",className:"model__input",placeholder:"Create password...",onChange:g,value:u.password,required:!0})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("input",{type:"submit",value:"Register",className:"btn btn-smart"})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsxs)("span",{onClick:p,children:["Already have an account ?"," "]})})]})}):Object(O.jsx)("div",{className:"model__form",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(u)},children:[Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("img",{src:"/images/instagramLogo.png",alt:""})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("input",{type:"email",name:"email",className:"model__input",placeholder:"Email...",onChange:g,value:u.email,required:!0})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("input",{type:"password",name:"password",className:"model__input",placeholder:"Create password...",onChange:g,value:u.password,required:!0})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("input",{type:"submit",value:"Login",className:"btn btn-smart"})}),Object(O.jsx)("div",{className:"model__group",children:Object(O.jsx)("span",{onClick:p,children:"Create a new account ? "})})]})})})}):""})},y=function(){var e=c.a.useState([{id:1,image:"/images/boy1.jpg",name:"ayush432"},{id:2,image:"/images/girl1.jpg",name:"piyush32"},{id:3,image:"/images/boy2.jpg",name:"rohit42"},{id:4,image:"/images/girl2.jpg",name:"ritika2"},{id:5,image:"/images/boy3.jpg",name:"utkarsh432"},{id:6,image:"/images/girl3.jpg",name:"priyanshi"},{id:7,image:"/images/girl4.jpg",name:"shivam"},{id:8,image:"/images/girl5.jpg",name:"mahadevan4"},{id:9,image:"/images/boy4.jpg",name:"rishabh4"}]),a=Object(r.a)(e,2),s=a[0];a[1];return Object(O.jsx)("div",{className:"stories",children:s.map((function(e){return Object(O.jsxs)("div",{className:"stories__info",children:[Object(O.jsx)("div",{className:"stories__img",children:Object(O.jsx)("span",{children:Object(O.jsx)("img",{src:e.image,alt:"user"})})}),Object(O.jsx)("div",{className:"stories__name",children:e.name})]},e.id)}))})},S=function(){var e=Object(t.useContext)(h),a=e.create,s=e.loader,c=e.user,n=Object(t.useState)(""),i=Object(r.a)(n,2),o=i[0],m=i[1],d=Object(t.useState)(""),j=Object(r.a)(d,2),u=j[0],b=j[1];return Object(O.jsx)(O.Fragment,{children:!s&&c?Object(O.jsx)("div",{className:"create",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({title:o,image:u}),m(""),b("")},children:[Object(O.jsx)("div",{className:"create__input",children:Object(O.jsx)("input",{type:"text",className:"create__inputt",placeholder:"What are in your mind...",onChange:function(e){return m(e.target.value)},value:o,required:!0})}),Object(O.jsxs)("div",{className:"create__second",children:[Object(O.jsxs)("div",{className:"create__second-a",children:[Object(O.jsx)("label",{htmlFor:"file",children:Object(O.jsx)(l.a,{className:"camera"})}),Object(O.jsx)("input",{type:"file",className:"file",onChange:function(e){b(e.target.files[0])},id:"file",required:!0})]}),Object(O.jsx)("div",{className:"create__second-b",children:Object(O.jsx)("input",{type:"submit",value:"Create",className:"btn-sweet"})})]})]})}):""})},w=s(30),C=s.n(w),k=s(28),A=s.n(k),D=(s(42),function(e){var a=c.a.useContext(h),s=a.loader,t=a.user,n=a.publishComment,i=c.a.useState(""),l=Object(r.a)(i,2),o=l[0],m=l[1],d=c.a.useState([]),j=Object(r.a)(d,2),u=j[0],g=j[1];return c.a.useEffect((function(){b.collection("posts").doc(e.id).collection("comments").orderBy("currentTime","desc").onSnapshot((function(e){g(e.docs.map((function(e){return e.data()})))}))}),[]),Object(O.jsxs)("div",{className:"comments",children:[u.map((function(e){return Object(O.jsxs)("div",{className:"comments__container",children:[Object(O.jsx)("div",{className:"comments__container-name",children:e.username}),Object(O.jsx)("div",{className:"comments__container-msg",children:e.comment})]},e.id)})),Object(O.jsx)("div",{className:"comments__section",children:!s&&t?Object(O.jsx)("form",{onSubmit:function(a){a.preventDefault(),n({id:e.id,comment:o}),m("")},children:Object(O.jsx)("input",{type:"text",className:"comment__input",placeholder:"Add a comment..",onChange:function(e){return m(e.target.value)},value:o,required:!0})}):""})]})}),E=function(){var e=Object(t.useContext)(h),a=e.posts,s=e.user,c=Object(t.useState)(!1),n=Object(r.a)(c,2),i=n[0],l=n[1],o=Object(t.useState)(7),m=Object(r.a)(o,2),d=m[0],j=m[1];return Object(O.jsx)(O.Fragment,{children:a.map((function(e){return Object(O.jsxs)("div",{className:"posts",children:[Object(O.jsxs)("div",{className:"posts__header",children:[Object(O.jsx)("div",{className:"posts__header-avator",children:e.username[0]}),Object(O.jsx)("div",{className:"posts__header-name",children:e.username})]}),Object(O.jsx)("div",{className:"posts__img",children:Object(O.jsx)("img",{src:e.image,alt:e.image})}),i&&s?Object(O.jsx)(A.a,{fontSize:"large",className:"favourite",onClick:function(e){l(!1),j(d-1)}}):Object(O.jsx)(C.a,{className:"favourite",fontSize:"large",onClick:function(e){l(!0),j(d+1)}}),Object(O.jsxs)("p",{className:"like",children:[d," likes"]}),Object(O.jsx)(D,{id:e.id})]},e.id)}))})},F=function(){var e=c.a.useContext(h),a=e.loader,s=e.user,t=!a&&s&&s.displayName?s.displayName:"",n=c.a.useState([{id:1,image:"/images/boy3.jpg",name:"utkarsh432"},{id:2,image:"/images/girl1.jpg",name:"piyush32"},{id:3,image:"/images/girl5.jpg",name:"mahadevan4"}]),i=Object(r.a)(n,1)[0];return Object(O.jsxs)("div",{className:"sidebar",children:[!a&&s?Object(O.jsxs)("div",{className:"sidebar__user",children:[Object(O.jsx)("div",{className:"sidebar__user-avator",children:t[0]}),Object(O.jsx)("div",{className:"sidebar__user-name",children:t})]}):"",Object(O.jsxs)("div",{className:"sidebar__list",children:[Object(O.jsx)("h3",{children:"Suggestions for you"}),i.map((function(e){return Object(O.jsxs)("div",{className:"sidebar__list-user",children:[Object(O.jsxs)("div",{className:"sidebar__list-a",children:[Object(O.jsx)("div",{className:"sidebar__list-a-img",children:Object(O.jsx)("img",{src:e.image,alt:e.image})}),Object(O.jsx)("div",{className:"sidebar__list-a-name",children:e.name})]}),Object(O.jsx)("div",{className:"sidebar__list-b",children:Object(O.jsx)("a",{href:"",children:"Follow"})})]},e.id)}))]})]})};var I=function(){var e=Object(t.useState)(!0),a=Object(r.a)(e,2),s=a[0],c=a[1];return setTimeout((function(){return c(!1)}),2500),Object(O.jsx)(O.Fragment,{children:s?Object(O.jsx)("div",{className:"loadingScreen",children:Object(O.jsx)("img",{src:"https://www.freepnglogos.com/uploads/instagram-logo-png-transparent-0.png",alt:"Instagram Logo"})}):Object(O.jsxs)(x,{children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(y,{}),Object(O.jsx)(S,{}),Object(O.jsx)(E,{}),Object(O.jsx)(F,{})]}),Object(O.jsx)(N,{})]})})};i.a.render(Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(I,{})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.ab1ae7bf.chunk.js.map