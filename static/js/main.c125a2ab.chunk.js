(this["webpackJsonpinst-clone"]=this["webpackJsonpinst-clone"]||[]).push([[0],{36:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);var s=t(4),n=t.n(s),c=t(19),i=t.n(c),r=t(9),o=(t(36),t(14)),l=t(27),d=t(15),m=t.n(d),j=t(22),u=t(13);u.a.initializeApp({apiKey:"AIzaSyAr-5uvj2KUcN6wb-aBEDOY58aAvZS8wUc",authDomain:"instagram-a2d73.firebaseapp.com",projectId:"instagram-a2d73",storageBucket:"instagram-a2d73.appspot.com",messagingSenderId:"479681757412",appId:"1:479681757412:web:27b7f51b984e80a1726cf1",measurementId:"G-D5GD5MV1E6"});var p=u.a.firestore(),b=u.a.auth(),h=u.a.storage(),g=t(3),O=Object(s.createContext)(),x=function(e){var a=n.a.useState(!1),t=Object(r.a)(a,2),s=t[0],c=t[1],i=n.a.useState(null),o=Object(r.a)(i,2),l=o[0],d=o[1],x=n.a.useState(!0),_=Object(r.a)(x,2),v=_[0],f=_[1],N=n.a.useState([]),w=Object(r.a)(N,2),y=w[0],S=w[1],C=function(){var e=Object(j.a)(m.a.mark((function e(a){var t,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.username,s=a.email,n=a.password,e.prev=1,e.next=4,b.createUserWithEmailAndPassword(s,n);case 4:e.sent.user.updateProfile({displayName:t}),c(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(m.a.mark((function e(a){var t,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.email,s=a.password,e.next=3,b.signInWithEmailAndPassword(t,s);case 3:e.sent,c(!1);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return n.a.useEffect((function(){b.onAuthStateChanged((function(e){d(e),f(!1)})),p.collection("posts").orderBy("currentTime","desc").onSnapshot((function(e){S(e.docs.map((function(e){return{id:e.id,title:e.data().title,image:e.data().image,username:e.data().username}})))}))}),[l,v]),console.log("Login user",l),Object(g.jsx)(O.Provider,{value:{model:s,openModel:function(){c(!0)},closeModel:function(){c(!1)},register:C,login:k,user:l,loader:v,logout:function(){b.signOut().then((function(){d(null)})).catch((function(e){console.log(e)}))},create:function(e){var a=e.title,t=e.image;h.ref("images/".concat(t.name)).put(t).on("state_changed",(function(e){var a=e.bytesTransferred/e.totalBytes*100;console.log(a)}),(function(e){console.log(e)}),(function(){h.ref("images").child(t.name).getDownloadURL().then((function(e){p.collection("posts").add({title:a,image:e,username:l.displayName,currentTime:u.a.firestore.FieldValue.serverTimestamp()})}))}))},posts:y,publishComment:function(e){var a=e.id,t=e.comment;p.collection("posts").doc(a).collection("comments").add({comment:t,username:l.displayName,currentTime:u.a.firestore.FieldValue.serverTimestamp()})}},children:e.children})},_=function(){var e=n.a.useContext(O),a=e.model,t=e.openModel,s=e.user,c=e.loader,i=e.logout;console.log("my model",a);var r=function(){t()},d=function(){i()};return Object(g.jsxs)("div",{className:"navbar",children:[Object(g.jsx)("div",{className:"navbar__first",children:Object(g.jsx)("div",{className:"navbar__first-logo",children:Object(g.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})})}),Object(g.jsx)("div",{className:"navbar__middle",children:Object(g.jsxs)("div",{className:"navbar__middle-search",children:[Object(g.jsx)("input",{type:"text",className:"navbar__search",placeholder:"Search"}),Object(g.jsx)(o.d,{className:"searchIcon"})]})}),Object(g.jsxs)("div",{className:"navbar__last",children:[Object(g.jsx)("li",{children:Object(g.jsx)(l.a,{className:"navbar__icons"})}),Object(g.jsx)("li",{children:Object(g.jsx)(o.e,{className:"navbar__icons"})}),Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{className:"navbar__icons"})}),Object(g.jsx)("li",{children:Object(g.jsx)(o.c,{className:"navbar__icons"})}),c?"...":!c&&s?Object(g.jsxs)("li",{className:"together",children:[s.displayName,"/ ",Object(g.jsx)("span",{onClick:d,children:"logout"})]}):Object(g.jsx)("li",{onClick:r,children:"Register/Login"})]})]})},v=t(20),f=t(16),N=function(){var e=n.a.useContext(O),a=e.model,t=e.closeModel,s=e.register,c=e.login,i=n.a.useState({register:!0,login:!1}),o=Object(r.a)(i,2),l=o[0],d=o[1],m=n.a.useState({username:"",email:"",password:""}),j=Object(r.a)(m,2),u=j[0],p=j[1],b=function(e){p(Object(f.a)(Object(f.a)({},u),{},Object(v.a)({},e.target.name,e.target.value)))},h=function(){d(Object(f.a)(Object(f.a)({},l),{},{register:!l.register,login:!l.login}))};return Object(g.jsx)(g.Fragment,{children:a?Object(g.jsx)("div",{className:"model",onClick:function(e){"model"===e.target.getAttribute("class")&&t()},children:Object(g.jsx)("div",{className:"model__container",children:l.register?Object(g.jsx)("div",{className:"model__form",children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(u),s(u),p({username:"",email:"",password:""})},children:[Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("input",{type:"text",name:"username",className:"model__input",placeholder:"Username...",onChange:b,value:u.username,required:!0})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("input",{type:"email",name:"email",className:"model__input",placeholder:"Email...",onChange:b,value:u.email,required:!0})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("input",{type:"password",name:"password",className:"model__input",placeholder:"Create password...",onChange:b,value:u.password,required:!0})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("input",{type:"submit",value:"Register",className:"btn btn-smart"})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsxs)("span",{onClick:h,children:["Already have an account ?"," "]})})]})}):Object(g.jsx)("div",{className:"model__form",children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(u)},children:[Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("input",{type:"email",name:"email",className:"model__input",placeholder:"Email...",onChange:b,value:u.email,required:!0})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("input",{type:"password",name:"password",className:"model__input",placeholder:"Create password...",onChange:b,value:u.password,required:!0})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("input",{type:"submit",value:"Login",className:"btn btn-smart"})}),Object(g.jsx)("div",{className:"model__group",children:Object(g.jsx)("span",{onClick:h,children:"Create a new account ? "})})]})})})}):""})},w=function(){var e=n.a.useState([{id:1,image:"https://static.wixstatic.com/media/2d23a2_5cf9cb610460400e9098aee6c0017e75.jpg/v1/fill/w_315,h_469,al_c,q_80,usm_0.66_1.00_0.01/2d23a2_5cf9cb610460400e9098aee6c0017e75.jpg",name:"ayush432"},{id:2,image:"https://slism.com/wpsystem/wp-content/uploads/talk-to-random-people-005-positive-woman.jpg",name:"harshita32"},{id:3,image:"https://ofad.org/files/daily-photo/recent-portraits-random-people-in-random-places_1.jpg",name:"rohit42"},{id:4,image:"http://images4.fanpop.com/image/photos/16300000/Random-people-random-16382026-600-800.jpg",name:"ritika2"},{id:5,image:"https://i.insider.com/5799f6efdd08954f578b4840?width=600&format=jpeg&auto=webp",name:"utkarsh432"},{id:6,image:"http://images6.fanpop.com/image/photos/37300000/Random-Girl-people-37325426-236-354.jpg",name:"priyanshi"},{id:7,image:"https://media.istockphoto.com/videos/searching-young-woman-finding-with-handmade-binoculars-video-id916928782?s=640x640",name:"shivam"},{id:8,image:"https://dz9yg0snnohlc.cloudfront.net/new-the-enjoyable-art-of-learning-to-talk-to-random-people-2.png",name:"mahadevan4"},{id:9,image:"https://i.insider.com/5799f6efdd08954f578b4840?width=600&format=jpeg&auto=webp",name:"rishabh4"}]),a=Object(r.a)(e,2),t=a[0];a[1];return Object(g.jsx)("div",{className:"stories",children:t.map((function(e){return Object(g.jsxs)("div",{className:"stories__info",children:[Object(g.jsx)("div",{className:"stories__img",children:Object(g.jsx)("span",{children:Object(g.jsx)("img",{src:e.image,alt:"user"})})}),Object(g.jsx)("div",{className:"stories__name",children:e.name})]},e.id)}))})},y=function(){var e=Object(s.useContext)(O),a=e.create,t=e.loader,n=e.user,c=Object(s.useState)(""),i=Object(r.a)(c,2),l=i[0],d=i[1],m=Object(s.useState)(""),j=Object(r.a)(m,2),u=j[0],p=j[1];return Object(g.jsx)(g.Fragment,{children:!t&&n?Object(g.jsx)("div",{className:"create",children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({title:l,image:u}),d(""),p("")},children:[Object(g.jsx)("div",{className:"create__input",children:Object(g.jsx)("input",{type:"text",className:"create__inputt",placeholder:"What are in your mind...",onChange:function(e){return d(e.target.value)},value:l,required:!0})}),Object(g.jsxs)("div",{className:"create__second",children:[Object(g.jsxs)("div",{className:"create__second-a",children:[Object(g.jsx)("label",{htmlFor:"file",children:Object(g.jsx)(o.a,{className:"camera"})}),Object(g.jsx)("input",{type:"file",className:"file",onChange:function(e){p(e.target.files[0])},id:"file",required:!0})]}),Object(g.jsx)("div",{className:"create__second-b",children:Object(g.jsx)("input",{type:"submit",value:"Create",className:"btn-sweet"})})]})]})}):""})},S=t(30),C=t.n(S),k=t(28),A=t.n(k),q=(t(42),function(e){var a=n.a.useContext(O),t=a.loader,s=a.user,c=a.publishComment,i=n.a.useState(""),o=Object(r.a)(i,2),l=o[0],d=o[1],m=n.a.useState([]),j=Object(r.a)(m,2),u=j[0],b=j[1];return n.a.useEffect((function(){p.collection("posts").doc(e.id).collection("comments").orderBy("currentTime","desc").onSnapshot((function(e){b(e.docs.map((function(e){return e.data()})))}))}),[]),Object(g.jsxs)("div",{className:"comments",children:[u.map((function(e){return Object(g.jsxs)("div",{className:"comments__container",children:[Object(g.jsx)("div",{className:"comments__container-name",children:e.username}),Object(g.jsx)("div",{className:"comments__container-msg",children:e.comment})]},e.id)})),Object(g.jsx)("div",{className:"comments__section",children:!t&&s?Object(g.jsx)("form",{onSubmit:function(a){a.preventDefault(),c({id:e.id,comment:l}),d("")},children:Object(g.jsx)("input",{type:"text",className:"comment__input",placeholder:"Add a comment..",onChange:function(e){return d(e.target.value)},value:l,required:!0})}):""})]})}),D=function(){var e=Object(s.useContext)(O),a=e.posts,t=(e.user,Object(s.useState)(!1)),n=Object(r.a)(t,2),c=n[0],i=n[1],o=Object(s.useState)(7),l=Object(r.a)(o,2),d=l[0],m=l[1];return Object(g.jsx)(g.Fragment,{children:a.map((function(e){return Object(g.jsxs)("div",{className:"posts",children:[Object(g.jsxs)("div",{className:"posts__header",children:[Object(g.jsx)("div",{className:"posts__header-avator",children:e.username[0]}),Object(g.jsx)("div",{className:"posts__header-name",children:e.username})]}),Object(g.jsx)("div",{className:"posts__img",children:Object(g.jsx)("img",{src:e.image,alt:e.image})}),c?Object(g.jsx)(A.a,{fontSize:"large",className:"favourite",onClick:function(e){i(!1),m(d-1)}}):Object(g.jsx)(C.a,{className:"favourite",fontSize:"large",onClick:function(e){i(!0),m(d+1)}}),Object(g.jsxs)("p",{className:"like",children:[d," likes"]}),Object(g.jsx)(q,{id:e.id})]},e.id)}))})},E=function(){var e=n.a.useContext(O),a=e.loader,t=e.user,s=!a&&t&&t.displayName?t.displayName:"",c=n.a.useState([{id:1,image:"https://slism.com/wpsystem/wp-content/uploads/talk-to-random-people-005-positive-woman.jpg",name:"utkarsh432"},{id:2,image:"https://i.insider.com/5799f6efdd08954f578b4840?width=600&format=jpeg&auto=webp",name:"piyush32"},{id:3,image:"https://dz9yg0snnohlc.cloudfront.net/new-the-enjoyable-art-of-learning-to-talk-to-random-people-2.png",name:"mahadevan4"}]),i=Object(r.a)(c,1)[0];return Object(g.jsxs)("div",{className:"sidebar",children:[!a&&t?Object(g.jsxs)("div",{className:"sidebar__user",children:[Object(g.jsx)("div",{className:"sidebar__user-avator",children:s[0]}),Object(g.jsx)("div",{className:"sidebar__user-name",children:s})]}):"",Object(g.jsxs)("div",{className:"sidebar__list",children:[Object(g.jsx)("h3",{children:"Suggestions for you"}),i.map((function(e){return Object(g.jsxs)("div",{className:"sidebar__list-user",children:[Object(g.jsxs)("div",{className:"sidebar__list-a",children:[Object(g.jsx)("div",{className:"sidebar__list-a-img",children:Object(g.jsx)("img",{src:e.image,alt:e.image})}),Object(g.jsx)("div",{className:"sidebar__list-a-name",children:e.name})]}),Object(g.jsx)("div",{className:"sidebar__list-b",children:Object(g.jsx)("a",{href:"",children:"Follow"})})]},e.id)}))]})]})};var F=function(){var e=Object(s.useState)(!0),a=Object(r.a)(e,2),t=a[0],n=a[1];return setTimeout((function(){return n(!1)}),2500),Object(g.jsx)(g.Fragment,{children:t?Object(g.jsx)("div",{className:"loadingScreen",children:Object(g.jsx)("img",{src:"https://www.freepnglogos.com/uploads/instagram-logo-png-transparent-0.png",alt:"Instagram Logo"})}):Object(g.jsxs)(x,{children:[Object(g.jsx)(_,{}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(w,{}),Object(g.jsx)(y,{}),Object(g.jsx)(D,{}),Object(g.jsx)(E,{})]}),Object(g.jsx)(N,{})]})})};i.a.render(Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(F,{})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.c125a2ab.chunk.js.map